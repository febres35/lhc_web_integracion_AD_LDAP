{"version":3,"file":"800.8c3bfdb4ac7cf39ec020.js","mappings":"0SAIMA,EAAAA,SAAAA,G,6aASF,WAAYC,GAAO,yBACf,cAAMA,GADS,mBAPX,CACJC,KAAM,KACNC,QAAS,GACTC,OAAQ,KACRC,SAAS,IAGM,2BAoCJ,WACX,EAAKJ,MAAMK,YAnCX,EAAKC,SAAW,EAAKA,SAASC,KAAd,QAChB,EAAKC,SAAWC,EAAAA,YAHD,E,oCAMnB,SAASC,GAAO,WAEZC,KAAKC,SAAS,CAAC,SAAY,IAE3BC,IAAAA,KAAWC,OAAOC,QAAP,SAA6B,kCAAoCJ,KAAKX,MAAMgB,OAAS,IAAML,KAAKX,MAAMiB,SAAW,iBAAkB,CAACC,MAAMP,KAAKQ,MAAMlB,MAAO,CAACmB,QAAU,CAAC,eAAgB,uCAAuCC,MAAK,SAACC,GACjN,GAAvBA,EAASC,KAAKC,MACd,EAAKxB,MAAMK,UAEX,EAAKO,SAAS,CAAC,SAAY,IAC3B,EAAKA,SAAS,CAAC,OAAWU,EAASC,KAAKE,aAI5Cf,GACAA,EAAMgB,mB,+BAGd,WAAoB,WAChBb,IAAAA,IAAUC,OAAOC,QAAP,SAA6B,kCAAoCJ,KAAKX,MAAMgB,OAAS,IAAML,KAAKX,MAAMiB,UAC/GI,MAAK,SAACC,GACH,EAAKV,SAAS,CAAC,KAASU,EAASC,OAC7B,EAAKf,SAASmB,SACd,EAAKnB,SAASmB,QAAQC,WAG7BC,OAAM,SAACC,GACJC,QAAQC,IAAIF,Q,oBAQpB,WAAS,WACGG,EAAMtB,KAAKX,MAAXiC,EAER,OACI,gBAAC,WAAD,KACyB,OAApBtB,KAAKQ,MAAMlB,MAAiB,gBAAC,WAAD,KAC7B,uBAAKiC,UAAU,6BACf,uBAAKC,KAAK,SAASC,GAAG,iBAAiB,aAAW,OAAOF,UAAU,0CAA0CG,SAAS,MAClH,uBAAKH,UAAU,yBACX,uBAAKA,UAAU,iBACX,uBAAKA,UAAU,gBAAf,IAA+B,sBAAIA,UAAU,cAAcE,GAAG,gBAAe,wBAAMF,UAAU,kBAAhB,KAAiDD,EAAE,gBAC5H,0BAAQK,KAAK,SAASJ,UAAU,sBAAsB,kBAAgB,QAAQK,QAAS5B,KAAK6B,aAAc,aAAW,WAEzH,uBAAKN,UAAU,cACX,uBAAKA,UAAU,OACX,uBAAKA,UAAU,UACVvB,KAAKQ,MAAMhB,QAAU,uBAAK+B,UAAU,OAAOO,wBAAyB,CAACC,OAAO/B,KAAKQ,MAAMhB,UACxF,uBAAK+B,UAAU,QACX,wBAAMS,SAAUhC,KAAKL,UACjB,qBAAG4B,UAAU,gBACRD,EAAE,yBAEP,uBAAKC,UAAU,cACX,yBAAOA,UAAU,cAAcD,EAAE,iBACjC,yBAAOC,UAAU,0CAA0CU,IAAKjC,KAAKH,SAAUqC,SAAS,WAAWP,KAAK,QAAQQ,aAAcnC,KAAKQ,MAAMlB,KAAM8C,SAAU,SAACC,GAAD,OAAO,EAAKpC,SAAS,CAAC,KAASoC,EAAEC,OAAOC,SAASC,YAAalB,EAAE,oBAAqBmB,MAAOnB,EAAE,uBAE3P,uBAAKC,UAAU,OACX,uBAAKA,UAAU,SACX,0BAAQI,KAAK,SAASe,SAAU1C,KAAKQ,MAAMf,SAA8B,IAAnBO,KAAKQ,MAAMlB,KAAYiC,UAAU,gCAAgCD,EAAE,iBAE7H,uBAAKC,UAAU,UACf,uBAAKA,UAAU,SACX,0BAAQI,KAAK,SAASJ,UAAU,uCAAuCK,QAAS5B,KAAK6B,cAAeP,EAAE,kC,EAjFxJlC,CAAkBuD,EAAAA,eAkGxB,WAAeC,EAAAA,EAAAA,IAAf,CAAiCxD","sources":["webpack://LHCReactAPP/./src/components/MailModal.js"],"sourcesContent":["import React, { PureComponent } from 'react';\nimport axios from \"axios\";\nimport { withTranslation } from 'react-i18next';\n\nclass MailModal extends PureComponent {\n\n    state = {\n        mail: null,\n        success: '',\n        errors: null,\n        sending: false\n    };\n\n    constructor(props) {\n        super(props);\n        this.sendMail = this.sendMail.bind(this);\n        this.emailRef = React.createRef();\n    }\n\n    sendMail(event) {\n\n        this.setState({'sending' : true});\n\n        axios.post(window.lhcChat['base_url'] + \"widgetrestapi/sendmailsettings/\" + this.props.chatId + '/' + this.props.chatHash + '/(action)/send', {email:this.state.mail}, {headers : {'Content-Type': 'application/x-www-form-urlencoded'}}).then((response) => {\n            if (response.data.error == false) {\n                this.props.toggle();\n            } else {\n                this.setState({'sending' : false});\n                this.setState({'errors' : response.data.result});\n            }\n        });\n\n        if (event)\n            event.preventDefault();\n    }\n\n    componentDidMount() {\n        axios.get(window.lhcChat['base_url'] + 'widgetrestapi/sendmailsettings/' + this.props.chatId + '/' + this.props.chatHash)\n        .then((response) => {\n            this.setState({'mail' : response.data});\n            if (this.emailRef.current) {\n                this.emailRef.current.focus();\n            }\n        })\n        .catch((err) => {\n            console.log(err);\n        });\n    }\n\n    dismissModal = () => {\n        this.props.toggle()\n    }\n\n    render() {\n        const { t } = this.props;\n\n        return (\n            <React.Fragment>\n                {this.state.mail !== null && <React.Fragment>\n                <div className=\"fade modal-backdrop show\"></div>\n                <div role=\"dialog\" id=\"dialog-content\" aria-modal=\"true\" className=\"fade modal show d-block mail-send-modal\" tabIndex=\"-1\">\n                    <div className=\"modal-dialog modal-lg\">\n                        <div className=\"modal-content\">\n                            <div className=\"modal-header\"> <h4 className=\"modal-title\" id=\"myModalLabel\"><span className=\"material-icons\">&#xf11a;</span>{t('button.mail')}</h4>\n                                <button type=\"button\" className=\"btn-close float-end\" data-bs-dismiss=\"modal\" onClick={this.dismissModal} aria-label=\"Close\"></button>\n                            </div>\n                            <div className=\"modal-body\">\n                                <div className=\"row\">\n                                    <div className=\"col-12\">\n                                        {this.state.errors && <div className=\"mb-0\" dangerouslySetInnerHTML={{__html:this.state.errors}}></div>}\n                                        <div className=\"mb-0\">\n                                            <form onSubmit={this.sendMail}>\n                                                <p className=\"mail-explain\">\n                                                    {t('button.email_explain')}\n                                                </p>\n                                                <div className=\"form-group\">\n                                                    <label className=\"text-muted\">{t('button.email')}</label>\n                                                    <input className=\"form-control form-group form-control-sm\" ref={this.emailRef} required=\"required\" type=\"email\" defaultValue={this.state.mail} onChange={(e) => this.setState({'mail' : e.target.value})} placeholder={t('chat.enter_email')} title={t('chat.enter_email')} />\n                                                </div>\n                                                <div className=\"row\">\n                                                    <div className=\"col-5\">\n                                                        <button type=\"submit\" disabled={this.state.sending || this.state.mail == ''} className=\"btn btn-primary w-100 btn-sm\">{t('button.send')}</button>\n                                                    </div>\n                                                    <div className=\"col-2\"></div>\n                                                    <div className=\"col-5\">\n                                                        <button type=\"button\" className=\"btn text-muted btn-link btn-sm w-100\" onClick={this.dismissModal}>{t('button.cancel')}</button>\n                                                    </div>\n                                                </div>\n                                            </form>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n               </div>\n               </React.Fragment>}\n            </React.Fragment>\n        )\n    }\n}\n\nexport default withTranslation()(MailModal);\n"],"names":["MailModal","props","mail","success","errors","sending","toggle","sendMail","bind","emailRef","React","event","this","setState","axios","window","lhcChat","chatId","chatHash","email","state","headers","then","response","data","error","result","preventDefault","current","focus","catch","err","console","log","t","className","role","id","tabIndex","type","onClick","dismissModal","dangerouslySetInnerHTML","__html","onSubmit","ref","required","defaultValue","onChange","e","target","value","placeholder","title","disabled","PureComponent","withTranslation"],"sourceRoot":""}